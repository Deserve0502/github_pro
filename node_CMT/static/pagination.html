<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/inner.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../font_a8y1z82ypvk/iconfont.css">
</head>

<body>
    <div class="allContain">
        <ul class="contain_header">
            <li>全部</li>
            <li>精华</li>
            <li>分享</li>
            <li>问答</li>
            <li>招聘</li>
            <li>客户端测试</li>
        </ul>
        <iframe id="contain" src="../static/contain.html" frameborder="0"></iframe>
        <ul class="contain_pagination">
        </ul>
    </div>

</body>

</html>
<script src="../js/common.js"></script>
<script>
    let ocontainPagination = document.querySelector(".contain_pagination");
    let ocontain = document.getElementById('contain');
    let oallContain = document.querySelector(".allContain");
    
    window.addEventListener('message',
        function (e) {
            console.log("heiheihei", e)
            ocontain.style.height = e.data.ocontainHeight + 'px'
            ocontain.style.width = e.data.ocontainWidth + 'px'
        })
    document.addEventListener('DOMContentLoaded', function () {
        setTimeout(function () {
            let width = oallContain.clientWidth
            let height = oallContain.clientHeight
            window.parent.postMessage({
                iframePaginationHeight: 2230,
                // iframePaginationHeight: height,
                iframePaginationWidth: width
            }, '*')
        }, 2000)
        

    }, false)

    let ocontain_li = document.querySelectorAll(".contain_header > li ");
    for (let i = 0; i < ocontain_li.length; i++) {
        ocontain_li[i].onclick = function () {
            if (ocontain_li[i].innerHTML === '精华') {
                ls.setItem("tab", "good")
            } else if (ocontain_li[i].innerHTML === '分享') {
                ls.setItem("tab", "share")
            } else if (ocontain_li[i].innerHTML === '问答') {
                ls.setItem("tab", "ask");
            } else if (ocontain_li[i].innerHTML === '招聘') {
                ls.setItem("tab", "job");
            } else if(ocontain_li[i].innerHTML === '客户端测试') {
                ls.setItem("tab", "dev");
            } else {
                ls.setItem("tab", "all");
            }

            partRefresh();
            ocontain_li[0].style.backgroundColor = '#f6f6f6';
            for (let j = 0; j < ocontain_li.length; j++) {
                ocontain_li[j].style.backgroundColor = '#f6f6f6';
                ocontain_li[j].style.color = '#80bd01';
                ocontain_li[i].style.backgroundColor = '#80bd01';
                ocontain_li[i].style.color = '#fff';

            }
        }
    }
    let opaginationLi = document.querySelectorAll(".contain_pagination > li");
    let ss = sessionStorage;
    
    getPagination(ocontainPagination,opaginationLi,'page',21);
   
</script>